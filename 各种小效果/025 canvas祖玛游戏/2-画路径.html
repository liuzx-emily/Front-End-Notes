<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <title>2 画路径</title>
    <style>
    canvas {
        position: absolute;
        left: 30%;
        background-color: #eee;
    }
    </style>
</head>

<body>
    <canvas id="myCanvas" width="500" height="500"></canvas>
    <script>
    var oCanvas = document.querySelector('#myCanvas');
    var ctx = oCanvas.getContext('2d');
    var oImg = new Image();
    var angle = 0; //青蛙旋转角度
    oImg.onload = function() {
        setInterval(draw, 1000 / 60);
    };
    oCanvas.onmousemove = function(ev) {
        var a = ev.clientX - oCanvas.getBoundingClientRect().left - oCanvas.width / 2;
        var b = oCanvas.height / 2 - ev.clientY + oCanvas.getBoundingClientRect().top;

        if (b >= 0) {
            angle = Math.atan(a / b);
        } else {
            angle = Math.atan(a / b) + Math.PI;
        }
    };

    function draw() {
        //先清空画布
        ctx.clearRect(0, 0, oCanvas.width, oCanvas.height);

        //画青蛙
        ctx.save();
        ctx.translate(oCanvas.width / 2, oCanvas.height / 2);
        ctx.rotate(angle);
        ctx.translate(-oCanvas.width / 2, -oCanvas.height / 2);
        ctx.drawImage(oImg, (oCanvas.width - oImg.width) / 2, (oCanvas.height - oImg.height) / 2);
        ctx.restore();

        //画轨迹
        ctx.beginPath();
        ctx.arc(oCanvas.width / 2, oCanvas.height / 2, 200, -Math.PI / 2, Math.PI);
        ctx.arc(oCanvas.width / 2 - 50, oCanvas.height / 2, 150, Math.PI, Math.PI * 2);
        ctx.stroke();
    }
    oImg.src = '蛙.png';
    </script>
</body>

</html>
