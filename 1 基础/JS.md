## Array

- 数组的长度可读可写。string的长度可读不可写。

- push unshift：一次可以加多个，返回arr的新length

- pop shift：一次只能删一个，返回被扔掉的

- splice：修改原数组，返回值：被删除的元素组成的数组  
  `splice(start, deleteCount, item1, item2, ...)`

- slice：返回一个由 start 和 end（不包括end）决定的原数组的<mark>浅拷贝</mark>。不修改原数组
  `slice(start[,end])`
  字符串也有slice方法

- concat：合并多个数组，返回一个新数组。不修改原数组。
  
- sort：排序，修改原数组。  
  不传递compareFunction时，元素会按照转换为的字符串的诸个字符的Unicode位点进行排序。所以给数字排序时不准：
  ```js
  let arr=[15,25,37,200];
  arr.sort();
  arr; //[15, 200, 25, 37]
  ```

- reverse：修改原数组

- join：默认用`,`链接


 


---






## String

三个基本类型都有自己对应的包装对象：Number Boolean String。 
基本类型调用属性和方法：
   1. 新建一个对应的包装对象obj
   2. obj去调用属性、方法
   3. 销毁obj
   
- indexOf：查找字符
- search：按正则查找
- slice：返回一个新字符串，不影响原始str  
  `slice(start[,end])`




---






## 正则

#### 创建正则
1. `let re = /a/gi;`
2. `let re = new RegExp('a','gi');`

#### []
- `[abc]` a或b或c
- `[a,b]` a或逗号或b
- `[a b]` a或空格或b
- `[^abc]` 除了abc的所有
- `[a-zA-Z0-9]`
- `[\u4e00-\u9fa5]` 中文
- `[b-f]` 也行，只要范围从小到大


#### 转义字符
- `.` 任意字符，除了换行和行结束符。
- `\s` 空白字符 （包括空格、tab、换行等）
- `\d` 数字
- `\w` 字符 (字母 数字 下划线)，等价于[0-9a-zA-Z_]
- `\b` 独立的部分 (起始 结束 空格)  \
  ```js
	// true
	/em/.test("emily");
	// false
	/em\b/.test("emily");
  ```
- `\S` 非空白字符，`\D` 非数字，`\W` 非字符，`\B` 非独立的部分
- `\\` 真正的\ (在str中真正的`\`也是`\\`，因为单个`\`在str里起换行的作用)
- `\/` 真正的/
- `\.` 真正的点
- `\1` 重复的第一个子项（放在小括号里的。必须跟第一个子项的值一样）
- `\2` 重复的第二个子项
  ```js
	// 等价于re = /(a)(b)(c)b/
	re = /(a)(b)(c)\2/;
	// 不等价re = /\d\d/，只会匹配到22 33这种
	re = /(\d)\1/;
  ```
#### 量词
- `{4,7}` 最少4次，最多7次
- `{4,}`  最少4次,最多不限
- `{,7}`  最少不限，最多7次
- `{4}`   正好4次
- `+` 相当于`{1,}`
- `*` 相当于`{0,}`
- `?` 相当于`{0,1}`

#### 起始 结束
- `^` 出现在正则的最开始位置，就代表起始的意思  
  `^`写在`[]`里面的话，就代表排除的意思
- `$` 如果出现在正则的最后位置 , 就代表结束的意思  

匹配前后空格：`/^\s+|\s+$/g`

#### 常用方法
- `re.test(str)`
- `string.split(re)`
- `string.search(re)` 匹配成功就返回位置（找到多个的话，只返回第一个的位置）；失败返回-1。
- `string.replace(re,替换值或function)` 不修改原始str





---






## JS作用域

ES5只有两种：函数内部、全局作用域  
ES6新加了块级作用域(`let` `const`)


#### 变量提升：
变量提升：`var`和`function`会被提升。var提升为undefined，function提升为声明的函数。  
（在高级浏览器中，块中的function变量提升为undefined）  
重名的话只留一个，优先级为：function > var，后面的优先。  

`var a=function(){}`和`function a(){}`是有着本质区别的。  
前者是赋值，发生在函数运行期。  
后者是声明，发生在词法分析期。

#### js函数执行
词法分析期
1. 函数运行前会生成Active Object对象，下面简称为AO对象；
2. 声明函数的参数会作为AO的属性，此时值全为undefined；
3. 接收过来的实参作为对应的属性值
4. 分析变量声明，如果AO上已有此属性，则跳过，没有则添加该属性，属性值为undefined；
5. 分析函数声明，例如function aa(){}则把aa赋给AO属性，即：AO.aa=function（）{}，当然，如果此前的AO对象中已经有了aa属性，则会被function覆盖掉。

函数运行期
- 从上到下，依次执行，变量从最近的函数体内开始找，扩散到外层函数，直到window对象中找，仍找不到即是undefined。







---






## 文档声明
(以前在先特帮后端查jsp报错时)
很多问题都是因为文档声明不对：`<!DOCTYPE html>`