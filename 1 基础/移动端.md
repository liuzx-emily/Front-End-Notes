
- chrome只是模拟尺寸，兼容性必须真机测试。手机功能如：多指、摇晃只能用真机测试
- 移动端上hover很好用，可以少写js



---



## 屏幕尺寸适配 rem
html的字号 = 窗口宽/(设计图/100)
元素大小都用rem来控制，1rem=100px

比如设计图是375px，则：
```js
initRem();
function initRem() {
	var html = document.documentElement;
	var hWidth = html.getBoundingClientRect().width;
	html.style.fontSize = hWidth / 3.75 + "px";
}
```



---



## 搜索
需求：点击手机键盘的回车，就会搜索（不提供搜索按钮）

要点：
```html
<form>
	<input type="search">
</form>
```
阻止form表单的默认事件，利用ajax和后台交互




---




## 弹窗时，不允许后面的屏幕滚动


分析：移动端是基于touch事件
```js	
// 不允许滚动
$(document).on('touchmove',function (e){
	e.preventDefault();
});
// 允许滚动
$(document).off('touchmove');
```




---






## 向下滚动 加载数据
要点：避免多次触发
```js
$(function(){
	// 当前页数
	var curPage=1;
	// 当前内容是否加载完成
	var curDone=false;
	// 第一次数据需要手动加载
	loadData();
	// 页面滚动时，加载数据
	$(window).scroll(function(){
		// 如果之前的内容加载完成了，才能加载新数据
		if(curDone){
			if(滚动到底部了吗?){				
				loadData();
			}
		}

	});
});

function loadData(){
	curDone=false;
	$.ajax({
		success: function(res){
			append(html);
			setTimeout(function(){
				page++;
				curDone=true;
			},0);
		}
	});
}
```



---



## 像素比
把一个像素放大至n个像素去显示
window.devicePixelRatio 只读

为什么？
- 因为手机分辨率很高，但是尺寸小
- 为了让人能看清，所以放大

但是开发者要小心，谨防图片发虚



---




## 一些小设置
- x5内核强制竖屏 `<meta name="x5-orientation" content="portrait">`

- x5内核强制全屏 `<meta name="x5-fullscreen" content="true">`

- uc强制竖屏 `<meta name="screen-orientation" content="portrait">`

- uc强制全屏 `<meta name="full-screen" content="yes">`

- 页面中的数字不识别为电话号码，邮箱格式不识别为邮箱 `<meta name="format-detection" content="telephone=no,email=no">`

- meta设置了不识别后，某个需要打电话、发邮件：
	```js
	<a href="tel:88888888">拨打电话：88888888</a>
	<a href="mailto:abc@qq.com">发送邮件：abc@qq.com</a>
	```


---




## 常见问题
- font boosting：有时候一段文字，在没有设置高度时，在webkit内核下，文字大小被浏览器放大了  
  解决：
  	1. 设置高度
	1. 设置最大高度 max-height

- fixed定位用不了 —— 用js去模拟

- ios中，body设置overflow:hidden无效
	```css
	html,body {
		/*解决body设置overflow:hidden无效*/
		height: 100%;
		overflow: hidden;
		position: relative;
	}
	```