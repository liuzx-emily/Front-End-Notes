<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <title>1 青蛙</title>
    <style>
    canvas {
        position: absolute;
        left: 30%;
        background-color: #eee;
    }
    </style>
</head>

<body>
    <canvas id="myCanvas" width="500" height="500"></canvas>
    <script>
    var oCanvas = document.querySelector('#myCanvas');
    var ctx = oCanvas.getContext('2d');
    var oImg = new Image();
    oImg.onload = function() {
        ctx.drawImage(oImg, (oCanvas.width - oImg.width) / 2, (oCanvas.height - oImg.height) / 2);
        oCanvas.onmousemove = function(ev) {
            ctx.save();
            ctx.clearRect(0, 0, oCanvas.width, oCanvas.height);
            var a = ev.clientX - oCanvas.getBoundingClientRect().left - oCanvas.width / 2;
            var b = oCanvas.height / 2 - ev.clientY + oCanvas.getBoundingClientRect().top;
            var angle = 0;
            if (b >= 0) {
                angle = Math.atan(a / b);
            } else {
                angle = Math.atan(a / b) + Math.PI;
            }
            ctx.translate(oCanvas.width / 2, oCanvas.height / 2);
            ctx.rotate(angle);
            ctx.translate(-oCanvas.width / 2, -oCanvas.height / 2);
            ctx.drawImage(oImg, (oCanvas.width - oImg.width) / 2, (oCanvas.height - oImg.height) / 2);
            ctx.restore();
        };
    };
    oImg.src = '蛙.png';
    </script>
</body>

</html>
