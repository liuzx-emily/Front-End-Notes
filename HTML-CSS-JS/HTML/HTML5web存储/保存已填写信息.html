<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>保存已填写信息</title>
    <script>
    var aInput;
    window.onload = function() {
        aInput = document.querySelectorAll('input');
        restore();
        //window的unload事件：在用户关闭页面时触发
        window.onunload = function() {
            if (aInput[0].value) {
                window.localStorage.setItem('nickname', aInput[0].value);
            }
            for (var i = 1; i < 4; i++) {
                if (aInput[i].checked) {
                    window.localStorage.setItem('hobby', aInput[i].id);
                }
            }
        };
    };

    function restore() {
        if (window.localStorage.getItem('nickname')) {
            aInput[0].value = window.localStorage.getItem('nickname');
        }
        if (window.localStorage.getItem('hobby')) {
            for (var i = 1; i < 4; i++) {
                if (aInput[i].id === window.localStorage.getItem('hobby')) {
                    aInput[i].checked = true;
                }
            }
        }
    }
    </script>
</head>

<body>
    <input type="text" name="nickname">
    <br>
    <input type="radio" name="hobby" id="paint">
    <label for="paint">绘画</label>
    <input type="radio" name="hobby" id="jogging">
    <label for="jogging">慢跑</label>
    <input type="radio" name="hobby" id="pcGame">
    <label for="pcGame">电脑游戏</label>
</body>

</html>
